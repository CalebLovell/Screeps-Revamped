{"code":"import * as tslib_1 from \"tslib\";\r\nimport { AttackStructurePriorities } from '../../priorities/priorities_structures';\r\nimport { profile } from '../../profiler/decorator';\r\nimport { Visualizer } from '../../visuals/Visualizer';\r\nimport { Directive } from '../Directive';\r\n/**\r\n * [LEGACY] Manually specify targets to be prioritized during a siege\r\n */\r\nlet DirectiveTargetSiege = class DirectiveTargetSiege extends Directive {\r\n    constructor(flag) {\r\n        super(flag);\r\n    }\r\n    spawnMoarOverlords() {\r\n    }\r\n    getTarget() {\r\n        const targetedStructures = this.pos.lookFor(LOOK_STRUCTURES);\r\n        for (const structure of targetedStructures) {\r\n            for (const structureType of AttackStructurePriorities) {\r\n                if (structure.structureType == structureType) {\r\n                    return structure;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    init() {\r\n    }\r\n    run() {\r\n        // Remove the directive once structures have been destroyed\r\n        if (this.pos.isVisible && !this.getTarget()) {\r\n            this.remove();\r\n        }\r\n    }\r\n    visuals() {\r\n        Visualizer.marker(this.pos, { color: 'orange' });\r\n    }\r\n};\r\nDirectiveTargetSiege.directiveName = 'target:siege';\r\nDirectiveTargetSiege.color = COLOR_GREY;\r\nDirectiveTargetSiege.secondaryColor = COLOR_ORANGE;\r\nDirectiveTargetSiege = tslib_1.__decorate([\r\n    profile\r\n], DirectiveTargetSiege);\r\nexport { DirectiveTargetSiege };\r\n","references":["C:/git/Overmind/src/priorities/priorities_structures.ts","C:/git/Overmind/src/profiler/decorator.ts","C:/git/Overmind/src/visuals/Visualizer.ts","C:/git/Overmind/src/directives/Directive.ts"]}
