{"code":"import * as tslib_1 from \"tslib\";\r\nimport { log } from '../../console/log';\r\nimport { ExtractorOverlord } from '../../overlords/mining/extractor';\r\nimport { OverlordPriority } from '../../priorities/priorities_overlords';\r\nimport { profile } from '../../profiler/decorator';\r\nimport { Directive } from '../Directive';\r\n/**\r\n * Mineral extraction directive. Spawns extraction creeps to operate extractors in owned or source keeper rooms\r\n */\r\nlet DirectiveExtract = class DirectiveExtract extends Directive {\r\n    constructor(flag) {\r\n        super(flag);\r\n        if (this.colony) {\r\n            this.colony.destinations.push({ pos: this.pos, order: this.memory[\"T\" /* TICK */] || Game.time });\r\n        }\r\n    }\r\n    spawnMoarOverlords() {\r\n        let priority;\r\n        if (this.room && this.room.my) {\r\n            if (this.colony.level == 8) {\r\n                priority = OverlordPriority.ownedRoom.mineralRCL8;\r\n            }\r\n            else {\r\n                priority = OverlordPriority.ownedRoom.mineral;\r\n            }\r\n        }\r\n        else {\r\n            priority = OverlordPriority.remoteSKRoom.mineral;\r\n        }\r\n        this.overlords.extract = new ExtractorOverlord(this, priority);\r\n    }\r\n    init() {\r\n    }\r\n    run() {\r\n        if (this.colony.level < 6) {\r\n            log.notify(`Removing extraction directive in ${this.pos.roomName}: room RCL insufficient.`);\r\n            this.remove();\r\n        }\r\n    }\r\n};\r\nDirectiveExtract.directiveName = 'extract';\r\nDirectiveExtract.color = COLOR_YELLOW;\r\nDirectiveExtract.secondaryColor = COLOR_CYAN;\r\nDirectiveExtract = tslib_1.__decorate([\r\n    profile\r\n], DirectiveExtract);\r\nexport { DirectiveExtract };\r\n","references":["C:/git/Screeps-Revamped/src/console/log.ts","C:/git/Screeps-Revamped/src/overlords/mining/extractor.ts","C:/git/Screeps-Revamped/src/priorities/priorities_overlords.ts","C:/git/Screeps-Revamped/src/profiler/decorator.ts","C:/git/Screeps-Revamped/src/directives/Directive.ts"]}
