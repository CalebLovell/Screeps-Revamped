{"code":"import * as tslib_1 from \"tslib\";\r\nimport { profile } from '../../profiler/decorator';\r\nimport { Task } from '../Task';\r\nexport const buildTaskName = 'build';\r\nlet TaskBuild = class TaskBuild extends Task {\r\n    constructor(target, options = {}) {\r\n        super(buildTaskName, target, options);\r\n        // Settings\r\n        this.settings.targetRange = 3;\r\n        this.settings.workOffRoad = true;\r\n    }\r\n    isValidTask() {\r\n        return this.creep.carry.energy > 0;\r\n    }\r\n    isValidTarget() {\r\n        return this.target && this.target.my && this.target.progress < this.target.progressTotal;\r\n    }\r\n    work() {\r\n        // Fixes issue #9 - workers freeze if creep sitting on square\r\n        if (!this.target.isWalkable) {\r\n            const creepOnTarget = this.target.pos.lookFor(LOOK_CREEPS)[0];\r\n            if (creepOnTarget) {\r\n                const zerg = Overmind.zerg[creepOnTarget.name];\r\n                if (zerg) {\r\n                    this.creep.say('move pls');\r\n                    zerg.moveOffCurrentPos();\r\n                }\r\n            }\r\n        }\r\n        return this.creep.build(this.target);\r\n    }\r\n};\r\nTaskBuild = tslib_1.__decorate([\r\n    profile\r\n], TaskBuild);\r\nexport { TaskBuild };\r\n","references":["C:/git/Screeps-Revamped/src/profiler/decorator.ts","C:/git/Screeps-Revamped/src/tasks/Task.ts"]}
