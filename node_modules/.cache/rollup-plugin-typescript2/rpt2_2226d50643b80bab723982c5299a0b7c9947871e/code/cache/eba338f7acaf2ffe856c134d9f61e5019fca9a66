{"code":"import * as tslib_1 from \"tslib\";\r\nimport { SpawnGroup } from '../../logistics/SpawnGroup';\r\nimport { ClaimingOverlord } from '../../overlords/colonization/claimer';\r\nimport { profile } from '../../profiler/decorator';\r\nimport { Directive } from '../Directive';\r\n/**\r\n * Claims a new room and incubates it from the nearest (or specified) colony\r\n */\r\nlet DirectiveIncubate = class DirectiveIncubate extends Directive {\r\n    constructor(flag) {\r\n        super(flag, colony => colony.level >= 7);\r\n        // Register incubation status\r\n        this.incubatee = this.room ? Overmind.colonies[Overmind.colonyMap[this.room.name]] : undefined;\r\n        if (this.incubatee) {\r\n            this.incubatee.isIncubating = true;\r\n            this.incubatee.spawnGroup = new SpawnGroup(this.incubatee);\r\n        }\r\n    }\r\n    spawnMoarOverlords() {\r\n        if (!this.incubatee) { // colony isn't claimed yet\r\n            this.overlords.claim = new ClaimingOverlord(this);\r\n        }\r\n    }\r\n    init() {\r\n    }\r\n    run() {\r\n        if (this.incubatee) {\r\n            if (this.incubatee.level >= 7 && this.incubatee.storage && this.incubatee.terminal) {\r\n                this.remove();\r\n            }\r\n        }\r\n    }\r\n};\r\nDirectiveIncubate.directiveName = 'incubate';\r\nDirectiveIncubate.color = COLOR_PURPLE;\r\nDirectiveIncubate.secondaryColor = COLOR_WHITE;\r\nDirectiveIncubate = tslib_1.__decorate([\r\n    profile\r\n], DirectiveIncubate);\r\nexport { DirectiveIncubate };\r\n","references":["C:/git/Screeps-Revamped/src/Colony.ts","C:/git/Screeps-Revamped/src/logistics/SpawnGroup.ts","C:/git/Screeps-Revamped/src/overlords/colonization/claimer.ts","C:/git/Screeps-Revamped/src/profiler/decorator.ts","C:/git/Screeps-Revamped/src/directives/Directive.ts"]}
