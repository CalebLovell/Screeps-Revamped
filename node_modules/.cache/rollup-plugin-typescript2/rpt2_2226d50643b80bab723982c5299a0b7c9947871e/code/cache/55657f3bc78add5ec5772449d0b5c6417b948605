{"code":"import * as tslib_1 from \"tslib\";\r\nimport { log } from '../../console/log';\r\nimport { profile } from '../../profiler/decorator';\r\nimport { Directive } from '../Directive';\r\nimport { NotifierPriority } from '../Notifier';\r\nexport const TERMINAL_STATE_REBUILD = {\r\n    name: 'rebuild',\r\n    type: 'in/out',\r\n    amounts: {\r\n        [RESOURCE_ENERGY]: 25000,\r\n    },\r\n    tolerance: 1000\r\n};\r\nconst REBUILD_STATE_TIMEOUT = 25000;\r\n/**\r\n * Put the colony's terminal in a rebuild state, which pushes resources out of a room which is undergoing reconstruction\r\n */\r\nlet DirectiveTerminalRebuildState = class DirectiveTerminalRebuildState extends Directive {\r\n    constructor(flag) {\r\n        super(flag);\r\n        this.refresh();\r\n    }\r\n    refresh() {\r\n        super.refresh();\r\n        // Register abandon status\r\n        this.terminal = this.pos.lookForStructure(STRUCTURE_TERMINAL);\r\n        if (this.terminal) {\r\n            Overmind.terminalNetwork.registerTerminalState(this.terminal, TERMINAL_STATE_REBUILD);\r\n        }\r\n        if (Game.time % 25 == 0) {\r\n            log.alert(`${this.pos.print}: rebuild terminal state active!`);\r\n        }\r\n    }\r\n    spawnMoarOverlords() {\r\n    }\r\n    init() {\r\n        this.alert('Rebuild terminal state active!', NotifierPriority.High);\r\n    }\r\n    run() {\r\n        // Incubation directive gets removed once the colony has a command center (storage)\r\n        if (!this.colony || !this.terminal || Game.time > (this.memory[\"T\" /* TICK */] || 0) + REBUILD_STATE_TIMEOUT) {\r\n            this.remove();\r\n        }\r\n    }\r\n};\r\nDirectiveTerminalRebuildState.directiveName = 'rebuildState';\r\nDirectiveTerminalRebuildState.color = COLOR_BROWN;\r\nDirectiveTerminalRebuildState.secondaryColor = COLOR_YELLOW;\r\nDirectiveTerminalRebuildState = tslib_1.__decorate([\r\n    profile\r\n], DirectiveTerminalRebuildState);\r\nexport { DirectiveTerminalRebuildState };\r\n","references":["C:/git/Screeps-Revamped/src/console/log.ts","C:/git/Screeps-Revamped/src/profiler/decorator.ts","C:/git/Screeps-Revamped/src/directives/Directive.ts","C:/git/Screeps-Revamped/src/directives/Notifier.ts"]}
